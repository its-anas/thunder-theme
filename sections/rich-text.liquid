{%- style -%}
   :root{
       --rich-text-color: {{ section.settings.text_color }};
       --wrapped-content-width: {{ settings.wrapped-content-width }}px;
   }

    .{{ section.id }}  {
     padding-top: {{ section.settings.top-padding }}px;;
     padding-bottom: {{ section.settings.bottom-padding }}px;;
     }

     .{{ section.id }}-just-color {
     background-color: {{ section.settings.background_color }};
     }
     
     .{{ section.id }}-image {
     {% if section.settings.section_width == "wrapped" %}
     background-image: url({{ section.settings.background_image | image_url: width: settings.wrapped-content-width }});
     background-repeat: no-repeat;
     {% endif %}
     {% if section.settings.section_width == "full-width" %}
          background-image: url({{ section.settings.background_image | image_url }});
          background-size: cover;
     {% endif %}
          background-position: center;
     }

     .{{ section.id }}-space-between {
          gap: {{ section.settings.space-between }}px;
     }

     .{{ section.id }}-text-width {
          width: {{ section.settings.text-width }}%;
     }

{%- endstyle -%}

<section class="{{ section.id }} {% if section.settings.background_image == blank %}{{ section.id }}-just-color{% else %}{{ section.id }}-{{ section.settings.background_type }}{% endif %} {{ section.settings.section_width }}">
  <div style="margin:30px"">
  <div class="wrapper {{ section.id }}-space-between text-alignment-{{ section.settings.text_alignment }} {{ section.id }}-text-width text-position-{{ section.settings.text_position }}">


     {%- for block in section.blocks -%}
          {%- case block.type -%}
               {%- when 'subheading' -%}
                    <{{ block.settings.subheading_size }}>
                         {{ block.settings.subheading }}
                    </{{ block.settings.subheading_size }}>
               {%- when 'heading' -%}
                    <{{ block.settings.heading_size }}>
                         {{ block.settings.heading }}
                    </{{ block.settings.heading_size }}>
                    {%- when 'text' -%}
                         {{ block.settings.text }}
                    {%- when 'button' -%}
                         <div class="buttons buttons-{{ section.settings.text_alignment }}">
                              {% if block.settings.primary_button_text != blank %}
                                <a class="button {% if block.settings.button_style == "border" %}primary{% else %}secondary{% endif %}-button {{ block.settings.button_style }}" href="{{ block.settings.primary_button_link }}">
                                  <span></span> <span></span> <span></span> <span></span>
                                    {{ block.settings.primary_button_text }}
                                </a>
                              {% endif %}
                              {% if block.settings.secondary_button_text != blank %}
                                <a class="button secondary-button {{ block.settings.button_style }}" href="{{ block.settings.secondary_button_link }}">
                                  <span></span> <span></span> <span></span> <span></span>
                                  {{ block.settings.secondary_button_text }}
                                </a>
                              {% endif %}
                          </div>
          {%- endcase -%}
     {%- endfor -%}
    </div> 
    </div>
  </section>

{% schema %}
{
     "name": "Rich text",
     "class": "rich-text",
     "settings": [
          {
               "type": "range",
               "id": "space-between",
               "label": "Space between elements",
               "min": 5,
               "max": 100,
               "step": 5,
               "unit": "px",
               "default": 20
          },
          {
               "type": "range",
               "id": "top-padding",
               "label": "Top padding",
               "min": 5,
               "max": 100,
               "step": 5,
               "unit": "px",
               "default": 15
          },
          {
               "type": "range",
               "id": "bottom-padding",
               "label": "Bottom padding",
               "min": 5,
               "max": 100,
               "step": 5,
               "unit": "px",
               "default": 15
          },
          {
               "type": "range",
               "id": "text-width",
               "label": "Text width",
               "min": 40,
               "max": 100,
               "step": 10,
               "unit": "%",
               "default": 70
          },
          {
               "type": "select",
               "id": "text_position",
               "label": "Text position",
               "options": [
                    {
                         "value": "left",
                         "label": "Left"
                    },
                    {
                         "value": "center",
                         "label": "Center"
                    },
                    {
                         "value": "right",
                         "label": "Right"
                    }
               ],
               "default": "center"
          },
          {
               "type": "select",
               "id": "text_alignment",
               "label": "Text alignment",
               "options": [
                    {
                         "value": "left",
                         "label": "Left"
                    },
                    {
                         "value": "center",
                         "label": "Center"
                    },
                    {
                         "value": "right",
                         "label": "Right"
                    }
               ],
               "default": "center"
          },
          {
               "type": "select",
               "id": "section_width",
               "label": "Section width",
               "options": [
                    {
                         "value": "full-width",
                         "label": "Full width"
                    },
                    {
                         "value": "wrapped",
                         "label": "Wrapped"
                    }
               ],
               "default": "full-width"
          },
          {
               "type": "select",
               "id": "background_type",
               "label": "Background type",
               "options": [
                    {
                         "value": "image",
                         "label": "Image"
                    },
                    {
                         "value": "just-color",
                         "label": "Color"
                    }
               ],
               "default": "just-color"
          },
          {
               "type": "image_picker",
               "id": "background_image",
               "label": "Background image"
          },
          {
               "type": "color",
               "id": "background_color",
               "label": "Background color",
               "default": "#000000"
          },
          {
               "type": "color",
               "id": "text_color",
               "label": "Text color",
               "default": "#ffffff"
          }
     ],
     "blocks": [
          {
               "type": "subheading",
               "name": "Subheading",
               "limit": 1,
               "settings": [
                    {
                         "type": "text",
                         "id": "subheading",
                         "label": "Subheading",
                         "default": "Subheading"
                    },
                    {
                         "type": "select",
                         "id": "subheading_size",
                         "label": "Subeading size",
                         "options": [
                              {
                                   "value": "h1",
                                   "label": "h1"
                              },
                              {
                                   "value": "h2",
                                   "label": "h2"
                              },
                              {
                                   "value": "h3",
                                   "label": "h3"
                              },
                              {
                                   "value": "h4",
                                   "label": "h4"
                              },
                              {
                                   "value": "h5",
                                   "label": "h5"
                              },
                              {
                                   "value": "h6",
                                   "label": "h6"
                              }
                         ],
                         "default": "h6"
                    }
               ]
          },
          {
               "type": "heading",
               "name": "Heading",
               "limit": 1,
               "settings": [
                    {
                         "type": "text",
                         "id": "heading",
                         "label": "Heading",
                         "default": "Heading"
                    },
                    {
                         "type": "select",
                         "id": "heading_size",
                         "label": "Heading size",
                         "options": [
                              {
                                   "value": "h1",
                                   "label": "h1"
                              },
                              {
                                   "value": "h2",
                                   "label": "h2"
                              },
                              {
                                   "value": "h3",
                                   "label": "h3"
                              },
                              {
                                   "value": "h4",
                                   "label": "h4"
                              },
                              {
                                   "value": "h5",
                                   "label": "h5"
                              },
                              {
                                   "value": "h6",
                                   "label": "h6"
                              }
                         ],
                         "default": "h2"
                    }
               ]
          },
          {
               "type": "text",
               "name": "Text",
               "limit": 1,
               "settings": [
                    {
                         "type": "richtext",
                         "id": "text",
                         "label": "Text",
                         "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
                    }
               ]
          },
          {
               "type": "button",
               "name": "Button",
               "limit": 1,
               "settings": [
                    {
                         "type": "text",
                         "id": "primary_button_text",
                         "label": "Primary button text",
                         "default": "Primary button"
                    },
                    {
                         "type": "url",
                         "id": "primary_button_link",
                         "label": "Primary button link"
                    },
                    {
                         "type": "text",
                         "id": "secondary_button_text",
                         "label": "Secondary button text",
                         "default": "Secondary button"
                    },
                    {
                         "type": "url",
                         "id": "secondary_button_link",
                         "label": "Secondary button link"
                    },
                    {
                         "type": "select",
                         "id": "button_style",
                         "label": "Button style",
                         "options": [
                              {
                                   "value": "border",
                                   "label": "Style 1"
                              },
                              {
                                   "value": " ",
                                   "label": "Style 2"
                              }
                         ]
                    }
               ]
          }
     ],
     "presets": [
          {
               "name": "Rich text",
               "settings": {}
          }
     ]
}

{% endschema %}
